# my-blog-back-app

–ë—ç–∫–µ–Ω–¥ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–ª–æ–≥–∞, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ Java 21 —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spring Framework –∏ —Ä–∞–±–æ—Ç–∞—é—â–∏–π –≤  —Å–µ—Ä–≤–ª–µ—Ç-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ Tomcat.

–í–∞–∂–Ω–æ: –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —á–∏—Å—Ç—ã–π Spring MVC, –±–µ–∑ Spring Boot.

## üìÅ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–ö–æ–¥ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞ GitHub.

## ‚öôÔ∏è –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –º–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å —Å –ø–æ–º–æ—â—å—é Gradle:

Gradle:
`
./gradlew clean build
`

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç (.war) –ø–æ—è–≤–∏—Ç—Å—è –≤ build/libs/.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —é–Ω–∏—Ç- –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤:

`./gradlew clean test`

–¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç JUnit 5 –∏ Spring TestContext Framework.
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ build/reports/tests/ –∏–ª–∏ target/surefire-reports/.

## üöÄ –î–µ–ø–ª–æ–π –≤ —Å–µ—Ä–≤–ª–µ—Ç-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

–°–æ–±—Ä–∞—Ç—å WAR:

# Gradle
`./gradlew clean war`

–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å *.war –≤ –ø–∞–ø–∫—É webapps Tomcat.
–ó–∞–ø—É—Å—Ç–∏—Ç—å Tomcat –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (./startup.sh)
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:
http://localhost:8080/<context-path>

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è in-memory –±–∞–∑–∞–∞ –¥–∞–Ω–Ω—ã—Ö - H2.
–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ SQL-—Å–∫—Ä–∏–ø—Ç—ã.

## üì° REST API

### –ü–æ—Å—Ç—ã

* –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ—Å—Ç–æ–≤

GET /api/posts?search={search}&pageNumber={pageNumber}&pageSize={pageSize}

–û—Ç–≤–µ—Ç (JSON):
`{
"posts": [
{
"id": 1,
"title": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ 1",
"text": "–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞...",
"tags": ["tag_1", "tag_2"],
"likesCount": 5,
"commentsCount": 1
}
],
"hasPrev": true,
"hasNext": false,
"lastPage": 3
}`

* –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å—Ç–∞

GET /api/posts/{id}

–û—Ç–≤–µ—Ç (JSON):

`{
"id": 1,
"title": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ 1",
"text": "–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞...",
"tags": ["tag_1", "tag_2"],
"likesCount": 5,
"commentsCount": 1
}`

* –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞

POST /api/posts
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

`{
"title": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ 3",
"text": "–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞...",
"tags": ["tag_1", "tag_2"]
}`


–û—Ç–≤–µ—Ç:

`{
"id": 3,
"title": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ 3",
"text": "–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞...",
"tags": ["tag_1", "tag_2"],
"likesCount": 0,
"commentsCount": 0
}`

* –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞

PUT /api/posts/{id}
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

`{
"id": 3,
"title": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
"text": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç...",
"tags": ["tag_1", "tag_2"]
}`

–û—Ç–≤–µ—Ç:

`{
"id": 3,
"title": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
"text": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç...",
"tags": ["tag_1", "tag_2"],
"likesCount": 0,
"commentsCount": 0
}`

* –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞

DELETE /api/posts/{id} ‚Äî —É–¥–∞–ª—è–µ—Ç –ø–æ—Å—Ç —Å–æ –≤—Å–µ–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏.

* –õ–∞–π–∫–∏

POST /api/posts/{id}/likes ‚Äî —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤ –Ω–∞ 1 –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

* –†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø–æ—Å—Ç–∞

PUT /api/posts/{id}/image ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ (multipart/form-data).

GET /api/posts/{id}/image ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ø–æ—Å—Ç–∞ (–º–∞—Å—Å–∏–≤ –±–∞–π—Ç).

* –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ—Å—Ç–∞

GET /api/posts/{post_id}/comments

–û—Ç–≤–µ—Ç:

`[
{
"id": 1,
"text": "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–æ—Å—Ç—É",
"postId": 1
}
]`

* –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –ø–æ ID

GET /api/posts/{post_id}/comments/{id}

–û—Ç–≤–µ—Ç:

`{
"id": 1,
"text": "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–æ—Å—Ç—É",
"postId": 1
}`

* –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è

POST /api/posts/{post_id}/comments
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

`{
"text": "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–æ—Å—Ç—É",
"postId": 1
}`


–û—Ç–≤–µ—Ç:

`{
"id": 2,
"text": "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–æ—Å—Ç—É",
"postId": 1
}`

* –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è

PUT /api/posts/{post_id}/comments/{id}
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
`
{
"id": 2,
"text": "–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",
"postId": 1
}`


–û—Ç–≤–µ—Ç:

`{
"id": 2,
"text": "–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",
"postId": 1
}
`
* –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è

DELETE /api/posts/{post_id}/comments/{id}

* üåê –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞

–ë—ç–∫–µ–Ω–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:

http://localhost:8080